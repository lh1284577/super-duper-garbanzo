{% extends "adminlte/base.html" %}
{% block content %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AdminLTE 2 | Data Tables</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.6 -->
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="css/ionicons.min.css">
  <!-- DataTables -->
  <link rel="stylesheet" href="plugins/datatables/dataTables.bootstrap.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">


<style>
.con {
        height:30px;
        background:#dd4b39;
        border-color: #d73925;
}

.add  {
    position: fixed;
    background: rgba(0, 0, 0, 0.58);
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    display:none;
}

.add > form {
    background: white;
    margin: 45px auto;
    width: 580px;
    padding: 30px;
    border-radius: 3px;
    box-shadow: 0 0 53px rgba(0, 0, 0, 0.15);
}

.change  {
    position: fixed;
    background: rgba(0, 0, 0, 0.58);
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    display:none;
}

.change > form {
    background: white;
    margin: 45px auto;
    width: 580px;
    padding: 30px;
    border-radius: 3px;
    box-shadow: 0 0 53px rgba(0, 0, 0, 0.15);
}


.del  {
    position: fixed;
    background: rgba(0, 0, 0, 0);
    left: 0;
    top: 100px;
    right: 0;
    bottom: 0;
    display:none;
}

.del > form {
    background: white;
    margin: 45px auto;
    width: 580px;
    padding: 30px;
    border-radius: 3px;
    box-shadow: 0 0 53px rgba(0, 0, 0, 0.15);
}


.bad  {
    position: fixed;
    background: rgba(0, 0, 0, 0);
    left: 0;
    top: 100px;
    right: 0;
    bottom: 0;
}

.bad > form {
    background: white;
    margin: 45px auto;
    width: 580px;
    padding: 30px;
    border-radius: 3px;
    box-shadow: 0 0 53px rgba(0, 0, 0, 0.15);
    margin-top:300px;
}

</style>
<script type="text/javascript">
        function go(args1,args2){
                window.location.href="/admin/delcontainer?ip=args1&container=args2";
}
</script>

<!--html>
<head>
<meta charset="UTF-8"-->
<title>查询页面</title>
<script src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript">
	function check(){
		m = document.getElementById("module").value
		p = document.getElementById("app").value
		if(m == "" || p == ""){
			alert("模块或应用不能为空")
			}
		}
</script>
<script type="text/javascript">
	var comment=function(){
                 $.ajax({
                     type:'GET',
                     url:'/admin/restart',
                     success:function(data){
			$('#content').append('<a>'+data+'</a>');
			}

                 });


	}
</script>
<!-- 如果证明可以实现页面条状-->
<!--script type="text/javascript">
	function go(){
	window.location.href="/admin/restart";
} 
</script-->
</head>
<body>
    <!-- Content Header (Page header) -->
     <div >
    <section class="content-header">
      <h1>
        Tomcat/Jboss模块应用查询、重启服务        
      </h1>
	<hr style="background-color:blue;height:1px;"/>
      <ol class="breadcrumb">
        <li><a href="/admin"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">其他</a></li>
        <li class="active">容器重启</li>
      </ol>
    </section>
    </div>
<!--	<img src="/admin/mysite/templates/adminlte/dist/img/songshu.jpg" class="img-circle" alt="User Image"> -->
    <section class="content-header">
	<div style="color:#FF0000">注意：模块,应用和容器的对应关系</div></br>
 	<form method="get" action="/admin/jenkins">
 		模块<input id ="module"  name ="module" value=""/></br>
 		应用<input id = "app" name ="app" value="" />
 		<div>环境<select name="env">
  		<option value ="beta">beta</option>
  		<option value ="prd">prd</option>
		</select>
		容器<select name="container">
  		<option value ="tomcat">tomcat</option>
  		<option value ="jboss">jboss</option>
		</select>
		</div></br>	
		<input type="submit" value="提交"  onclick="check();"/></br>		
 	</form>
	<div></div>
	<div>查询结果如下:</div>
	<div>-------------------------------------------------------------------</div>
 	{% for item in nf %}
 		<div>{{item}}</div>
 	{% endfor %}
	<div>-------------------------------------------------------------------</div>
	<input id="send" type="button" value="重启服务" onclick="comment()"/></br>
	<div id=content ></div>
    </section>
</body>
</html>
{%endblock%}
